<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragment/layout::main(
      ~{::title},       
      ~{::link},
      ~{::script},
      ~{},
      ~{::top},         
      ~{::banner},      
      ~{::gnb},         
      ~{::main},        
      ~{::footer}       
      )}">
<head>
  <title th:fragment="title">FAQ μƒμ„Έ</title>
  <link rel="stylesheet" href="/css/admin/faq/detail.css">
  <script defer src="/js/admin/faq/detail.js"></script>
  <style></style>
</head>
<body>
  <!-- μƒλ‹¨ λ©”λ‰΄ -->
  <th:block >
    <nav th:fragment="top" class="topmenu" th:insert="~{fragment/top::topmenu}"/>
  </th:block>

  <!-- λ°°λ„ -->
  <th:block th:fragment="banner">
    <header class="head" th:insert="~{fragment/banner::global}"/>
  </th:block>
  
  <!-- GNB -->
  <th:block th:fragment="gnb">
    <nav class="gnb" th:insert="~{fragment/menu::gnbmenu}"/>
  </th:block>
  
  <!-- λ³Έλ¬Έ -->
  <th:block th:fragment="main">
    <main class="main">
      <div class="admin-faq-detail-container">
        <!-- νμ΄μ§€ ν—¤λ” -->
        <div class="page-header">
          <h1 class="page-title">π‘οΈ FAQ μƒμ„Έ</h1>
          <p class="page-description">FAQ μƒμ„Έ μ •λ³΄λ¥Ό ν™•μΈν•μ„Έμ”!</p>
        </div>

            <!-- FAQ μƒμ„Έ λ‚΄μ© -->
            <div class="faq-detail-content" th:if="${faq != null}">
                <!-- κΈ°λ³Έ μ •λ³΄ μ„Ήμ… -->
                <div class="detail-section">
                    <h2 class="section-title">κΈ°λ³Έ μ •λ³΄</h2>
                    
                    <div class="info-grid">
                        <div class="info-item">
                            <label class="info-label">FAQ ID</label>
                            <div class="info-value" th:text="${faq.faqId}">-</div>
                        </div>
                        
                        <div class="info-item">
                            <label class="info-label">μΉ΄ν…κ³ λ¦¬</label>
                            <div class="info-value">
                                <span class="category-badge" th:text="${faq.categoryName}">μΉ΄ν…κ³ λ¦¬</span>
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <label class="info-label">μƒνƒ</label>
                            <div class="info-value">
                                <span class="status-badge" 
                                      th:class="${faq.isActive == 'Y' ? 'status-active' : 'status-inactive'}"
                                      th:text="${faq.isActive == 'Y' ? 'ν™μ„±' : 'λΉ„ν™μ„±'}">
                                    μƒνƒ
                                </span>
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <label class="info-label">μ •λ ¬ μμ„</label>
                            <div class="info-value" th:text="${faq.sortOrder}">0</div>
                        </div>
                        
                        <div class="info-item">
                            <label class="info-label">μ‘μ„±μ</label>
                            <div class="info-value" th:text="${faq.adminNickname}">κ΄€λ¦¬μ</div>
                        </div>
                        
                        <div class="info-item">
                            <label class="info-label">μ‘μ„±μΌ</label>
                            <div class="info-value" th:text="${#temporals.format(faq.cdate, 'yyyy.MM.dd HH:mm')}">-</div>
                        </div>
                        
                        <div class="info-item" th:if="${faq.udate != null}">
                            <label class="info-label">μμ •μΌ</label>
                            <div class="info-value" th:text="${#temporals.format(faq.udate, 'yyyy.MM.dd HH:mm')}">-</div>
                        </div>
                    </div>
                </div>

                <!-- μ§λ¬Έ μ„Ήμ… -->
                <div class="detail-section">
                    <h2 class="section-title">μ§λ¬Έ</h2>
                    <div class="question-content" th:text="${faq.question}">μ§λ¬Έ λ‚΄μ©</div>
                </div>

                <!-- λ‹µλ³€ μ„Ήμ… -->
                <div class="detail-section">
                    <h2 class="section-title">λ‹µλ³€</h2>
                    <div class="answer-content" th:utext="${faq.answer}">λ‹µλ³€ λ‚΄μ©</div>
                </div>

                <!-- ν‚¤μ›λ“ μ„Ήμ… -->
                <div class="detail-section" th:if="${faq.keywords != null and !#strings.isEmpty(faq.keywords)}">
                    <h2 class="section-title">κ²€μƒ‰ ν‚¤μ›λ“</h2>
                    <div class="keywords-content">
                        <span class="keyword-tag" th:each="keyword : ${#strings.arraySplit(faq.keywords, ',')}" 
                              th:text="${#strings.trim(keyword)}">ν‚¤μ›λ“</span>
                    </div>
                </div>

                <!-- ν†µκ³„ μ„Ήμ… -->
                <div class="detail-section">
                    <h2 class="section-title">ν†µκ³„ μ •λ³΄</h2>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-icon view">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" th:text="${faq.viewCount}">0</div>
                                <div class="stat-label">μ΅°νμ</div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-icon helpful">
                                <i class="fas fa-thumbs-up"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" th:text="${faq.helpfulCount}">0</div>
                                <div class="stat-label">λ„μ›€λ¨</div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-icon unhelpful">
                                <i class="fas fa-thumbs-down"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" th:text="${faq.unhelpfulCount}">0</div>
                                <div class="stat-label">λ„μ›€μ•λ¨</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- μ•΅μ… λ²„νΌ -->
                <div class="detail-actions">
                    <button type="button" class="btn btn-secondary" onclick="history.back()">
                        <i class="fas fa-arrow-left"></i>
                        λ’¤λ΅κ°€κΈ°
                    </button>
                    
                    <div class="action-group">
                        <button type="button" class="btn btn-status" 
                                th:class="${faq.isActive == 'Y' ? 'btn-status deactivate' : 'btn-status activate'}"
                                th:data-faq-id="${faq.faqId}"
                                th:data-current-status="${faq.isActive}"
                                th:onclick="toggleStatus(this.dataset.faqId, this.dataset.currentStatus)"
                                th:title="${faq.isActive == 'Y' ? 'λΉ„ν™μ„±ν™”' : 'ν™μ„±ν™”'}">
                            <i th:class="${faq.isActive == 'Y' ? 'fas fa-times' : 'fas fa-check'}"></i>
                            <span th:text="${faq.isActive == 'Y' ? 'λΉ„ν™μ„±ν™”' : 'ν™μ„±ν™”'}">μƒνƒλ³€κ²½</span>
                        </button>
                        
                        <a th:href="@{/admin/faq/{faqId}/edit(faqId=${faq.faqId})}" class="btn btn-edit">
                            <i class="fas fa-edit"></i>
                            μμ •
                        </a>
                        
                        <button type="button" class="btn btn-delete" 
                                th:data-faq-id="${faq.faqId}"
                                th:data-faq-title="${faq.question}"
                                onclick="confirmDeleteFaq(this.dataset.faqId, this.dataset.faqTitle)">
                            <i class="fas fa-trash"></i>
                            μ‚­μ 
                        </button>
                    </div>
                </div>
            </div>

            <!-- μ—λ¬ λ©”μ‹μ§€ -->
            <div class="error-message" th:if="${error != null}">
                <div class="error-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3>μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤</h3>
                <p th:text="${error}">μ¤λ¥ λ©”μ‹μ§€</p>
                <a th:href="@{/admin/faq}" class="btn btn-primary">FAQ λ©λ΅μΌλ΅</a>
            </div>
          </main>
        </th:block>
        
        <!-- ν‘Έν„° -->
        <th:block th:fragment="footer">
          <footer class="foot" th:insert="~{fragment/footer::global}"/>
        </th:block>
      </body>
      </html>
