<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이메일 인증 - KDT Demo</title>
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/member/emailVerification.css}">
</head>
<body>
    <div class="container">
        <div class="email-verification-container">
            <h1>이메일 인증</h1>
            
            <!-- 성공 메시지 -->
            <div th:if="${message}" class="alert alert-success">
                <span th:text="${message}"></span>
            </div>
            
            <!-- 오류 메시지 -->
            <div th:if="${errorMessage}" class="alert alert-error">
                <span th:text="${errorMessage}"></span>
            </div>
            
            <div class="verification-steps">
                <div class="step">
                    <h3>1단계: 이메일 주소 입력</h3>
                    <form th:action="@{/member/email/send-code}" method="post" class="email-form">
                        <div class="form-group">
                            <label for="email">이메일 주소</label>
                            <input type="email" id="email" name="email" required 
                                   placeholder="인증받을 이메일을 입력하세요">
                        </div>
                        <button type="submit" class="btn btn-primary">인증 코드 발송</button>
                    </form>
                </div>
                
                <div class="step">
                    <h3>2단계: 인증 코드 입력</h3>
                    <form th:action="@{/member/email/verify}" method="post" class="verification-form">
                        <div class="form-group">
                            <label for="email">이메일 주소</label>
                            <input type="email" id="email" name="email" th:field="*{emailVerificationForm.email}" required 
                                   placeholder="이메일을 입력하세요">
                        </div>
                        <div class="form-group">
                            <label for="verificationCode">인증 코드</label>
                            <input type="text" id="verificationCode" name="verificationCode" 
                                   th:field="*{emailVerificationForm.verificationCode}" required 
                                   placeholder="6자리 인증 코드를 입력하세요" maxlength="6">
                            <small>인증 코드는 10분간 유효합니다.</small>
                        </div>
                        <button type="submit" class="btn btn-primary">인증 확인</button>
                    </form>
                </div>
            </div>
            
            <div class="verification-info">
                <h4>인증 안내</h4>
                <ul>
                    <li>이메일 인증을 통해 계정 보안을 강화할 수 있습니다.</li>
                    <li>인증 코드는 10분간 유효합니다.</li>
                    <li>인증 코드가 도착하지 않으면 스팸함을 확인해주세요.</li>
                    <li>인증 완료 후 로그인 페이지로 이동합니다.</li>
                </ul>
            </div>
            
            <div class="action-links">
                <a th:href="@{/login}" class="btn btn-secondary">로그인으로 돌아가기</a>
                <a th:href="@{/member/join}" class="btn btn-secondary">회원가입</a>
            </div>
        </div>
    </div>
    
    <script th:src="@{/js/common.js}"></script>
    <script th:src="@{/js/member/emailVerification.js}"></script>
</body>
</html> 