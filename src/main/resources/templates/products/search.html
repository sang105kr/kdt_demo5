<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">상품 검색</title>
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/products/search.css}">
</head>
<body>
    <!-- Layout Fragment -->
    <div th:replace="~{fragment/layout::layout(
        title=${title},
        styles='',
        scripts='',
        style='',
        script='',
        top='~{fragment/top::top}',
        banner='~{fragment/banner::banner}',
        gnb='~{fragment/menu::gnb}',
        main='~{::main}',
        footer='~{fragment/footer::footer}'
    )}">
    </div>

    <!-- Main Content -->
    <main th:fragment="main">
        <div class="search-container">
            <div class="search-header">
                <h1 class="search-title">상품 검색</h1>
                <p class="search-description">원하는 상품을 찾아보세요</p>
            </div>

            <!-- 검색 폼 -->
            <form class="search-form" th:action="@{/products/search-results}" method="get">
                <div class="search-input-group">
                    <input type="text" 
                           name="keyword" 
                           class="search-input" 
                           placeholder="상품명 또는 설명을 입력하세요"
                           th:value="${keyword}"
                           autocomplete="off">
                    <button type="submit" class="search-button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </div>

                <!-- 카테고리 필터 -->
                <div class="category-filter">
                    <label class="category-label">카테고리:</label>
                    <select name="category" class="category-select">
                        <option value="">전체 카테고리</option>
                        <option value="전자제품" th:selected="${category == '전자제품'}">전자제품</option>
                        <option value="의류" th:selected="${category == '의류'}">의류</option>
                        <option value="도서" th:selected="${category == '도서'}">도서</option>
                        <option value="식품" th:selected="${category == '식품'}">식품</option>
                        <option value="스포츠" th:selected="${category == '스포츠'}">스포츠</option>
                        <option value="뷰티" th:selected="${category == '뷰티'}">뷰티</option>
                        <option value="가구" th:selected="${category == '가구'}">가구</option>
                        <option value="기타" th:selected="${category == '기타'}">기타</option>
                    </select>
                </div>
            </form>

            <!-- 인기 카테고리 -->
            <div class="popular-categories">
                <h3 class="popular-title">인기 카테고리</h3>
                <div class="category-grid">
                    <a th:href="@{/products/category/전자제품}" class="category-card">
                        <div class="category-icon">📱</div>
                        <span class="category-name">전자제품</span>
                    </a>
                    <a th:href="@{/products/category/의류}" class="category-card">
                        <div class="category-icon">👕</div>
                        <span class="category-name">의류</span>
                    </a>
                    <a th:href="@{/products/category/도서}" class="category-card">
                        <div class="category-icon">📚</div>
                        <span class="category-name">도서</span>
                    </a>
                    <a th:href="@{/products/category/식품}" class="category-card">
                        <div class="category-icon">🍎</div>
                        <span class="category-name">식품</span>
                    </a>
                    <a th:href="@{/products/category/스포츠}" class="category-card">
                        <div class="category-icon">⚽</div>
                        <span class="category-name">스포츠</span>
                    </a>
                    <a th:href="@{/products/category/뷰티}" class="category-card">
                        <div class="category-icon">💄</div>
                        <span class="category-name">뷰티</span>
                    </a>
                    <a th:href="@{/products/category/가구}" class="category-card">
                        <div class="category-icon">🪑</div>
                        <span class="category-name">가구</span>
                    </a>
                    <a th:href="@{/products/category/기타}" class="category-card">
                        <div class="category-icon">📦</div>
                        <span class="category-name">기타</span>
                    </a>
                </div>
            </div>

            <!-- 에러 메시지 -->
            <div th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></div>
        </div>
    </main>

    <script th:src="@{/js/common.js}"></script>
    <script th:src="@{/js/products/search.js}"></script>
</body>
</html> 