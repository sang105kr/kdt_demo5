<!DOCTYPE html>
<html id="root"
      lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:fragment="main(
        <!--/* title */-->
        title,
        <!--/* external */-->
        styles,
        scripts,
        <!--/* internal */-->
        style,
        script,
        <!--/*--------------------------*/-->
        top,            <!--/* top */-->
        banner,         <!--/* banner */-->
        gnb,            <!--/* gnb */-->
        main,           <!--/* main */-->
        footer         <!--/* footer */-->
      )"

      th:with="s_memberId=${session?.loginMember?.memberId},
               s_email=${session?.loginMember?.email},
               s_nickname=${session?.loginMember?.nickname},
               s_gubun=${session?.loginMember?.gubun},
               use_banner = ${banner != null} ? true:false "

      th:data-s-member-id="${s_memberId}"
      th:data-s-email="${s_email}"
      th:data-s-nickname="${s_nickname}"
      th:data-s-gubun="${s_gubun}">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:replace=${title}>제목</title>
  
  <!-- Metal Design System CSS -->
  <link rel="stylesheet" th:href="@{/css/design-system.css}">
  <link rel="stylesheet" th:href="@{/css/components.css}">
  
  <!-- Legacy CSS (기존 스타일 유지) -->
  <link rel="stylesheet" th:href="@{/css/common.css}">
  <link rel="stylesheet" th:href="@{/css/main.css}">

  <!-- Metal Design System JavaScript -->
  <script defer th:src="@{/js/design-system.js}"></script>
  
  <!-- Menu JavaScript -->
  <script defer th:src="@{/js/menu.js}"></script>
  
  <!-- Legacy JavaScript (기존 스크립트 유지) -->
  <script defer th:src="@{/js/common.js}"></script>
  
  <!-- Font Awesome -->
  <script defer src="https://kit.fontawesome.com/023d8f21ed.js" crossorigin="anonymous"></script>
  
  <th:block th:replace="${styles}"/>
  <th:block th:replace="${scripts}"/>

  <th:block th:replace="${style}"/>
  <th:block th:replace="${script}"/>

</head>
<body>
<div class="wrap">
  <div id="tl"><a class='logo' href="" th:href="@{/}"><i class="fa-solid fa-house"></i></a></div>
  <div id="tc" th:insert="${top}"/>
  <div id="tr"></div>
  <div id="banner" th:if="${use_banner and !#strings.isEmpty(banner)}" th:insert="${banner}"></div>
  <div id="gnb" th:insert="${gnb}"></div>
  <div id="content" th:insert="${main}"></div>
  <div id="foot" th:insert="${footer}"></div>
</div>
</body>
</html>